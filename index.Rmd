---
title: "index.Rmd"
author: "Carolyn"
date: "10/31/2017"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(knitr)
source('civic-info.R')
source('propublica.R')

officials$name <- paste0("[", officials$name, "](", officials$urls, ")")


```

## R Markdown



This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r cars}


photo.data <- officials %>%
  mutate(ifelse(is.na(photoUrl) == FALSE, paste0("![image](", photoUrl, ")"), "Not available"))


officials$photoUrl <- photo.data[, 7]


num.to.rep <- unlist(lapply(parsed.data$offices$officialIndices, length))
expanded <- offices[rep(row.names(offices), num.to.rep), ]
officials <- officials %>% mutate(index = row_number() -1)
expanded <- expanded %>% mutate(index = row_number() -1) %>%
  rename(position = name) 
joined <- left_join(officials, expanded)
joined <- select(joined, name, position, party, emails, phones, photoUrl)

gender.plot <- barplot(gender.data, horiz = TRUE)
party.plot <- barplot(party.data, horiz = TRUE)

kable(joined)
```




